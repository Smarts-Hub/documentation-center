---
title: Tickets module
---
import { FileTree } from '@astrojs/starlight/components';


Proffesional, customizable, easy and fast ticket system with channel protection, transcripts and more features.

## Features
* Fully customizable - Allow to configure the 98% of the resource by editing the config.json. Allows to create multiple ticket panels, ticket types, modify roles, channels and messages.
* Ticket types - Create different types to help organising your server tickets. You can create as many ticket types as your server needs, and group them in different panels.
* Panels - Create panels to group ticket categories.
* Ticket embeds - Send embeds when the ticket is created to let the user know what to do next.
* Role permissions - Select which roles can crate each ticket and the support roles for that ticket.
* Web Transcript Viewer (TWV) - The web transcript viewer can be obtained through our discord and it offers the ability to self-host a custom web viewer for your ticket's transcripts. These transcripts are private and only the ticket owner and the moderators can see the transcript. It uses Discord OAuth authentication for a secure user-verification.
* Thread tickets - This exclusive and new way of creating tickets allows you to use Channel Threads instead of Text Channels, making support more seamlessly and organization much easier. It comes with most of the features that a normal ticket would have, including transcripts and more.
* Super easy button management - Control the basics with a few buttons. Close, transcripts, claim and delete tickets with a few clicks for a faster support
* Ticket claiming - Allows your staff to claim tickets. This allows other staff to know if is anyone taking care of the ticket.
* Ticket renaming - Rename tickets with a simple command. This makes ticket recognition faster and allows a more personalized and fast support experience.
* Ticket freezing - Freeze and unfreeze tickets to avoid unwanted deletion. This blocks the creator from writing and makes closing and deletion disallowed.
* Dynamic user management - Add and remove users from the ticket with a very simple command. Fast, and secure.
* Reopen closed tickets - Allows your staff to reopen closed tickets if there was any missunderstanding
* Logs - Log to a custom channel the new tickets created, and tickets close
* User ticket limit - Set a max amount of open tickets a user can create. This prevent the user from having multiple open tickets.
* Server-wide ticket limit - This sets a limit of the max amount of tickets there can be open in a server to prevent the staff from overwhelming.
* HTML Transcripts - Save all the conversation in a HTML transcript for the future. You can use it along the TWV to achieve a better user experience.
* Suggest a new feature: Create a ticket on our Discord server and suggest any new feature! We will integrate it as soon as we can!

# Installation
To install this module you need to follow the steps below:
1. Download the module zipfile
2. Unzip and place the files in the modules folder. Example:
<FileTree>
- modules
	- tickets
		- commands
			- ...
		- events
			- ...
	  - models
			- ...
	  * config.json
	  - ...
	- ...
</FileTree>
3. Install the dependencies by running the following command on the bot root folder
```bash
npm install node-fetch form-data discord-html-transcripts
```
This addon requires mongodb storage, so make sure you have it activated

4. Restart the bot

# Creating new tickets
To create your own ticket type you must add the following template to the `config.json`, inside the `tickets` section and modify it according to your needs:
```json
{
  "tickets": [
  {
    "id": "example",
    "name": "Example ticket type",
    "type": "channel",
    "category-id": "1423686138073452565",
    "support-roles": ["1373728985472565431"],
    "user-roles": ["everyone"],
    "channel-name": "example-{number}-{username}",
    "channel-embeds": [
      {
        "title": "Thanks for creating a ticket",
        "description": "A staff member will be shortly with you.",
        "color": "#FFFFFF"
      },
      {
        "title": "This is an example ticket",
        "description": "This will be exclusively for example purposes \nYou can add as many embeds as you like. The buttons will always attach to the last one",
        "color": "#FF0000"
      }
    ],
    "panel": "panel1",
    "button": {
      "type": "Secondary",
      "text": "Create an example ticket"
    },
    "ticket-created": "Your ticket has been created in {channel}"
  }]
}
```

* `id` is the **unique** identifier for the ticket type.
* `name` is the name of the ticket type.
* `type` is the type of the ticket type. Can be `channel` or `thread`.
* `category-id` is the ID of the category where the ticket channel will be created.
* `support-roles` is an array of roles that can manage tickets.
* `user-roles` is an array of roles that can create tickets.
* `channel-name` is the name of the channel that will be created.
* `channel-embeds` is an array of embeds that will be sent to the channel when a ticket is created.
* `panel` is the ID of the panel that will be used to create the ticket.
* `button` is the button that will be used to create the ticket.
* `ticket-created` is the message that will be sent when a ticket is created.

## Thread tickets
Thread embeds are a new type of embed that can be used to create a thread in a ticket channel. They are similar to regular tickets, but they are created in a private thread channel. The structure that follows is the same as the channel tickets, but it misses some features such as transcripts or claiming.

# Setting up ticket panels
Ticket panels are the interface that users can interact with to create tickets. They are created in the ticket channel and can be customized to include fields, images, emojis and more.

To create a ticket panel, you need to create it on the `panels` section:
```json
{
  "panels": [
    {
      "panel": "panel1",
      "embed": {
        "title": "Create a ticket",
        "description": "Create a ticket to get support.",
        "color": "#FFFFAA"
      }
    }
  ],
}
```

Buttons are automatically added to the panel depending on the tickets that uses the panel.

## Listing panels
To list all the panels, you can use the following command:
```bash
/ticket-admin panels
```

## Sending panels
To send a panel you will need to know the panel ID. You can get the panel ID by using the `/ticket-admin panels` command. To send the panel to a channel you can use:
```bash
/ticket-admin send-panel panel-id:<panel>
```

# Transcript Web Viewer (TWV)
The transcript web viewer allows you to share transcripts with users.

:::caution
TWV is still in beta and may have some bugs. Please report any issues you find. To get the installation instructions, please ask on our [discord server](https://discord.smartshub.dev/)
:::
